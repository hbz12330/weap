{"remainingRequest":"g:\\ddd\\ddd\\node_modules\\babel-loader\\lib\\index.js!g:\\ddd\\ddd\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!g:\\ddd\\ddd\\src\\components\\home\\shopCart.vue?vue&type=script&lang=js","dependencies":[{"path":"g:\\ddd\\ddd\\src\\components\\home\\shopCart.vue","mtime":1553150416000},{"path":"g:\\ddd\\ddd\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"g:\\ddd\\ddd\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"g:\\ddd\\ddd\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { Toast } from \"mint-ui\";\nexport default {\n  data: function data() {\n    return {\n      list: {},\n      cb: false,\n      allcb: false,\n      price: 0\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    var url = \"http://127.0.0.1:3000/cart\";\n    this.axios.get(url).then(function (result) {\n      var rows = result.data.data;\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = rows[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var item = _step.value;\n          item.cb = false;\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      _this.list = rows;\n    });\n  },\n  methods: {\n    del: function del(e) {\n      var _this2 = this;\n\n      //获取当前购物车商品id\n      var id = e.target.dataset.uid;\n      var idx = e.target.dataset.idx;\n      var url = \"http://127.0.0.1:3000/del?id=\" + id;\n      this.axios.get(url).then(function (result) {\n        if (result.data.code == 1) {\n          Toast(\"删除商品成功\");\n\n          _this2.list.splice(idx, 1);\n        }\n      });\n    },\n    selectAll: function selectAll(e) {\n      var cb = e.target.checked;\n      this.allcb = cb;\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = this.list[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var tem = _step2.value;\n          tem.cb = cb;\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      for (var i = 0; i < this.list.length; i++) {\n        if (cb == true) {\n          this.price += this.list[i].price * this.list[i].num;\n        } else if (cb == false) {\n          this.price = 0;\n        }\n      }\n    },\n    modifyItem: function modifyItem(e) {\n      //获取元素下标\n      var idx = e.target.dataset.i; //将下标对象数组中的元素cb修改当前复选框状态\n\n      var checked = e.target.checked;\n      this.list[idx].cb = checked;\n      var count = 0;\n      var _iteratorNormalCompletion3 = true;\n      var _didIteratorError3 = false;\n      var _iteratorError3 = undefined;\n\n      try {\n        for (var _iterator3 = this.list[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n          var item = _step3.value;\n\n          if (item.cb) {\n            count++;\n          }\n        }\n      } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion3 && _iterator3.return != null) {\n            _iterator3.return();\n          }\n        } finally {\n          if (_didIteratorError3) {\n            throw _iteratorError3;\n          }\n        }\n      }\n\n      if (count == this.list.length) {\n        this.allcb = true;\n      } else {\n        this.allcb = false;\n      }\n\n      if (checked == true) {\n        this.price += this.list[idx].price * this.list[idx].num;\n      } else {\n        this.price -= this.list[idx].price * this.list[idx].num;\n      }\n    }\n  }\n};",{"version":3,"sources":["shopCart.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n<div class=\"app-cart\">\r\n\t<div class=\"ding\">\r\n\t\t<div class=\"app-lg\">\t\r\n\t\t \t<h3>我的购物车</h3>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class=\"card\">\r\n\t <div class=\"chb\"> \r\n\t\t\t\t<h4><input type=\"checkbox\" @click=\"selectAll\" :checked=\"allcb\">全选</h4>\r\n\r\n\t\t</div>\r\n\t\t <div class=\"scar\" v-for=\"(item,i) in list\" :key=\"item.id\" >\r\n\t\t\t<div class=\"ddre\">\r\n\t\t\t\t<input type=\"checkbox\" :checked=\"item.cb\" :data-i=\"i\" @click=\"modifyItem\"/>\r\n\t\t\t</div>\t\r\n\t\t\t<div class=\"dimg\">\r\n\t\t\t<img :src=\"'http://127.0.0.1:3000/'+item.lpic\">\r\n\t\t\t</div>\r\n\t\t\t<div class=\"text-juy\">\r\n\t\t\t{{item.title}}\r\n\t\t\t</div>\r\n\t\t\t<div class=\"text-shuliang\">\r\n\t\t\t{{item.num}}\r\n\t\t\t</div>\r\n\t\t\t<div class=\"text-jiage\">\r\n\t\t\t{{item.price}}\r\n\t\t\t</div>\r\n\t\t\t<div class=\"text-shanchu\">\r\n\t\t\t\r\n\t\t\t<button @click=\"del\" :data-uid=\"item.id\" :data-idx=\"i\">删除</button>\r\n\t\t\t</div>\r\n\t\t</div> \r\n\t\r\n\t\t\r\n\t</div>\r\n\t<nav class=\"mui-bar mui-bar-tab\">\r\n\t\t<a class=\"mui-tab-item\" href=\"#tabbar\">\r\n\t\t\t商品总价：\r\n\t\t\t<span class=\"mui-tab-label\">¥：{{price.toFixed(2)}}</span>\r\n\t\t</a>\r\n\t\t<a class=\"lk mui-tab-item\" href=\"#tabbar-with-map\" style=\"text-align:right;padding-right:10px\">\r\n\t\t\t<mt-button type=\"danger\">去付款</mt-button>\r\n\t\t\r\n\t\t</a>\r\n\t</nav> \r\n  </div>\r\n</template>\r\n<script>\r\nimport{Toast} from \"mint-ui\"\r\nexport default {\r\n\tdata(){\r\n\t\treturn{\r\n\t\t\tlist:{},\t\r\n\t\t\tcb:false,\r\n\t\t\tallcb:false,\r\n\t\t\tprice:0\r\n\t\t}\r\n\t},\r\n\tmounted(){\r\n\t\tvar url = \"http://127.0.0.1:3000/cart\";\r\n       this.axios.get(url).then(result => {\r\n\t\tvar rows = result.data.data;\r\n\t\tfor(var item of rows){\r\n\t\t\titem.cb=false;\r\n\t\t}\r\n        this.list = rows;\r\n      });\r\n\t},\r\n\tmethods:{\r\n\t\tdel(e){\r\n\t\t\t//获取当前购物车商品id\r\n\t\t\tvar id=e.target.dataset.uid;\r\n\t\t\tvar idx=e.target.dataset.idx;\r\n\t\t\tvar url=\"http://127.0.0.1:3000/del?id=\"+id;\r\n\t\t\tthis.axios.get(url).then(result=>{\r\n\t\t\t\tif(result.data.code==1){\r\n\t\t\t\t\tToast(\"删除商品成功\");\r\n\t\t\t\t\tthis.list.splice(idx,1)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\tselectAll(e){\r\n\t\t\tvar cb=e.target.checked;\r\n\t\t\tthis.allcb=cb;\r\n\t\t\tfor(var tem of this.list){\r\n\t\t\t\ttem.cb=cb;\r\n\t\t\t}\r\n\t\t\tfor(var i=0;i<this.list.length;i++){\r\n\t\t\t\tif(cb==true){\r\n\t\t\t\tthis.price+=this.list[i].price*this.list[i].num\t\r\n\t\t\t\t}else if(cb==false){\r\n\t\t\t\t\tthis.price=0\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmodifyItem(e){\r\n\t\t\t//获取元素下标\r\n\t\t\tvar idx=e.target.dataset.i;\r\n\t\t\t//将下标对象数组中的元素cb修改当前复选框状态\r\n\t\t\tvar checked=e.target.checked;\r\n\t\t\tthis.list[idx].cb=checked;\r\n\t\t\tvar count=0;\r\n\t\t\tfor(var item of this.list){\r\n\t\t\t\tif(item.cb){\r\n\t\t\t\t\tcount++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(count==this.list.length){\r\n\t\t\t\tthis.allcb=true;\r\n\t\t\t}else{\r\n\t\t\t\tthis.allcb=false;\r\n\t\t\t}\r\n\t\t\tif(checked==true){\r\n\t\t\t this.price+=this.list[idx].price*this.list[idx].num\r\n\t\t\t}else{\r\n\t\t\t\tthis.price-=this.list[idx].price*this.list[idx].num\t\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n<style>\r\n\t.app-container .app-cart{\r\n\t  margin-bottom: 50px;\r\n\t}\r\n\t.app-cart .ding{\r\n\t\t position: relative;\r\n         width: 100%;\r\n         height:35px;\r\n\t}\r\n\t.app-cart .ding .app-lg{\r\n\t\tposition: fixed;\r\n\t\ttext-align: center;\r\n\t\twidth: 100%;\r\n\t\tbackground: rgb(36, 155, 42);\r\n\t}\r\n\t.app-cart .ding .app-lg h3{\r\n\t\tfont-size: 18px;\r\n\t\tcolor: darkcyan;\r\n\t}\r\n\t.app-cart .card .scar{\r\n\t  display:flex;\r\n\t  padding-left: 2px;\r\n\t \r\n\t}\r\n\t.app-cart .card .scar .dimg{\r\n\t\twidth:80px;\r\n\r\n\t}\r\n\t.app-cart .card .scar .dimg img{\r\n\t\twidth: 100%\r\n\t}\r\n\t.app-cart .card .scar .ddre{\r\n\t\theight:100%;\r\n        line-height: 73px;\r\n\t\tpadding: 0;\r\n\t\tmargin: 0\r\n\t\t\r\n\t}\r\n\t.app-cart .card .scar .text-juy{\r\n\t\theight:100%;\r\n\t\tpadding: 0;\r\n\t\tmargin: 0;\r\n\t\t line-height:73px; \r\n\t\tdisplay: -webkit-box;\r\n\t\twidth:50%;\r\n\t\ttext-overflow: ellipsis;\r\n\t\t-webkit-box-orient: vertical;\r\n\t\t-webkit-line-clamp:1;\r\n\t\toverflow: hidden;\r\n\t}\r\n\t.app-cart .card .scar .text-shuliang{\r\n\t\theight:100%;\r\n        line-height: 23px; \r\n\t\tpadding: 0;\r\n\t\tmargin: 0\r\n\t}\r\n\t.app-cart .card .scar .text-jiage{\r\n\t\theight:100%;\r\n        line-height: 23px;\r\n\t\tpadding: 0;\r\n\t\tmargin: 0\r\n\t}\r\n\t.app-cart .card .scar .text-shanchu{\r\n\t\theight:100%;\r\n\t\tpadding-top:16px;\r\n\t\tmargin: 0\r\n\t}\r\n</style>\r\n\r\n"],"sourceRoot":"src\\components\\home"}]}